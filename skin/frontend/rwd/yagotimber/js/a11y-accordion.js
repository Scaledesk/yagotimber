!function(a,b,c){"use strict";var d={};d.NS="a11yAccordion",d.AUTHOR="Scott O'Hara",d.VERION="1.0.2",d.LICENSE="https://github.com/scottaohara/accessible-components/blob/master/LICENSE.md";var e='[data-action="is-accordion"]';a.fn.extend({a11yAccordion:function(b){var c=".js-acc__trigger",d=".js-acc__panel";return this.each(function(){var b=this.id,e=a("#"+b),f={"aria-selected":"false",tabindex:"-1"},g={"aria-selected":"true",tabindex:"0"},h=function(){if(!e.find("> "+c).length){var f=1;e.find("> "+d).each(function(){var c=a(this);c.attr("id",b+"_panel_"+f);var d=c.attr("id"),e=c.prev(":header").text()||c.attr("data-tab-label")||"Tab "+f,g='<button type="button" data-href="#'+d+'" class="js-acc__trigger accordion__trigger">'+e+"</button>";return c.before(g),f+=1})}},i=function(){e.attr({role:"tablist"}),e.find("> :header").remove(),e.attr("data-multi-open")&&e.attr("aria-multiselectable","true"),e.find("> "+c).each(function(){var b=a(this),c=b.attr("href")||b.attr("data-href"),d=c.split("#")[1];b.attr({role:"tab","aria-controls":d,"aria-expanded":"false","aria-selected":"false",tabindex:"-1",id:d+"_tab"})}),e.find("> "+d).each(function(){var b=a(this);b.attr({role:"tabpanel","aria-hidden":"true","aria-labelledby":b.before().attr("id")+"_tab"}),b.attr("data-showbydefault")&&(b.attr({"aria-hidden":"false"}).show(),b.prev(c).attr({"aria-expanded":"true","aria-selected":"true",tabindex:"0"}).addClass("is-active"),b.parent().addClass("has-default"))}),e.hasClass("has-default")||e.find("> "+c).first().attr({tabindex:"0"})},j=function(){"true"===e.attr("data-showall")&&(e.find("> "+c).attr("aria-expanded","true"),e.find("> "+d).attr("aria-hidden","false").show(),e.find("> "+c).first().attr("aria-selected","true").addClass("is-active"))},k=function(b){b.stopPropagation();var h=a(b.target).closest(d),i=h.attr("aria-labelledby"),j=a("#"+i);e.find("> "+c).attr(f).removeClass("is-active"),l(),j.attr(g).addClass("is-active").removeClass("was-active")},l=function(){e.find("> "+c).each(function(){var b=a(this);"true"===b.attr("aria-expanded")&&b.addClass("was-active")})},m=function(b){b.preventDefault();var g=a(b.target),h=g.attr("aria-controls"),i=a("#"+h);return e.attr("data-multi-open")||(e.find("> "+d).attr({"aria-hidden":"true"}).slideUp(),e.find("> "+c).attr({"aria-selected":"false","aria-expanded":"false",tabindex:"-1"})),l(),g.hasClass("was-active")?(i.attr("aria-hidden","true").slideUp(),e.find("> "+c).removeClass("is-active").attr(f),void g.attr({"aria-expanded":"false","aria-selected":"true",tabindex:"0"}).removeClass("was-active").focus()):g.hasClass("is-active")?g.hasClass("is-active")?(i.attr({"aria-hidden":"true"}).slideUp(),void g.attr({"aria-expanded":"false",tabindex:"0"}).removeClass("is-active")):void 0:(i.attr({"aria-hidden":"false"}).slideDown(),e.find("> "+c).removeClass("is-active").attr(f),void g.attr({tabindex:"0","aria-selected":"true","aria-expanded":"true"}).addClass("is-active").focus())},n=function(b){var i,j,k,l,h=b.which;"tab"===a(b.target).attr("role")?j=a(b.target):a(b.target).closest(d)&&(i=a(b.target).closest(d).attr("aria-labelledby"),j=a("#"+i));var n=j.parent(),o=n.find("> "+c).first(),p=n.find("> "+c).last(),k=j.prev().prev(),l=j.next().next();if(j.is(c+":first-of-type")?k=p:j.is(c+":last-of-type")&&(l=o),"tab"===a(b.target).attr("role"))switch(h){case 39:case 40:b.preventDefault(),j.attr(f),l.focus().attr(g);break;case 37:case 38:b.preventDefault(),j.attr(f),k.focus().attr(g);break;case 13:case 32:b.stopPropagation(),m(b);break;case 35:b.stopPropagation(),p.focus().attr(g);break;case 36:b.stopPropagation(),o.focus().attr(g)}else if(a(b.target).closest(d)&&b.ctrlKey)switch(b.preventDefault(),b.keyCode){case 38:j.focus();break;case 33:e.find("> "+c).attr(f),k.focus().attr(g);break;case 34:e.find("> "+c).attr(f),l.focus().attr(g)}};h(),i(),j(),e.find("> "+c).on("click",m.bind(this)),e.find("> "+d).on("click",k.bind(this)),e.find("> "+c).on("keydown",n.bind(this)),e.find("> "+d).on("keydown",n.bind(this))})}}),a(e).a11yAccordion()}(jQuery,this,this.document);